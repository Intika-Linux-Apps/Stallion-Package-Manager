{% extends "main.html" %}

{% block section_title %}
	<img src={{ url_for('static', filename='terminal-icon.png') }}" class="midicon"> {{ dist.project_name }} 
	<small>version {{ dist.version }}</small><br/>
	{% if distinfo.summary %}<small>{{ distinfo.summary }}</small>{% endif %}
{% endblock %}

{% block content %}

<div class="row">
	<div class="span8">

	<div class="well" style="padding: 10px 12px;">
	<div class="page-header"><h3>Available Actions</h3></div>
	<button class="btn primary">Check integrity</button>&nbsp;<button class="btn success">Success</button>&nbsp;<button class="btn danger">Danger</button>
	</div>

	{% if  description_render %}
		{{ description_render|safe }}
		<br /> <br />
	{% endif %}

	</div>
	<div class="span8">
		<div class="well" style="padding: 14px 19px;">
			<div class="page-header"><h2><img src="{{ url_for('static', filename='info.png') }}" class="midicon"> Package information</h2><br /></div>

				{% if distinfo["metadata-version"] %}

				{{ distinfo["summary"] }} <br /> <br />

					<table class="bordered-table">
					<tbody>
						<tr>
							<td><strong>Package Name</strong></td>
							<td>{{ distinfo["name"] }}</td>
						</tr>

						<tr>
							<td><strong>Version</strong></td>
							<td>{{ distinfo["version"] }}</td>
						</tr>

						<tr>
							<td><strong>Platform</strong></td>
							<td>
								{% set platforms = distinfo["platform"] %}

								{% if not platforms %}
									<span class="label warning">No platform specified</span>
								{% elif platforms is string %}
									{{ platforms }}
								{% else %}
									<ul>
									{% for platform in platforms %}
										<li>{{ platform }}</li>
									{% endfor %}
									</ul>
								{% endif %}
							</td>
						</tr>
						
						<tr>
							<td><strong>Project License</strong></td>
							<td>{{ distinfo["license"] }}</td>
						</tr>

						<tr>
							<td><strong>Author</strong></td>
							<td>{{ distinfo["author"] }}</td>
						</tr>

						<tr>
							<td><strong>Author Email</strong></td>
							<td><a href="mailto:{{ distinfo["author-email"] }}"><img src="{{ url_for('static', filename='mail.png') }}" class="midicon"> {{ distinfo["author-email"] }}</a></td>
						</tr>

						<tr>
							<td><strong>Project site</strong></td>
							<td><a href="{{ distinfo["home-page"] }}"><img src="{{ url_for('static', filename='world.png') }}" class="midicon"> {{ distinfo["home-page"] }}</a></td>
						</tr>

						<tr>
							<td><strong>Keywords</strong></td>
							<td>{{ distinfo["keywords"] }}</td>
						</tr>

						<tr>
							<td><strong>Classifiers</strong></td>
							<td>
								{% set classifier = distinfo["classifier"] %}
								{% if classifier %}
								<ul>
									{% for cl in classifier %}
										<li>{{ cl }}</li>
									{% endfor %}
								</ul>
								{% else %}
								<span class="label warning">Warning</span> <em>No classifiers specified.</em>
								{% endif %}
							</td>
						</tr>

						<tr>
							<td><strong>Fields</strong></td>
							<td>{{ distinfo.keys() }}</td>
						</tr>

					</tbody>
					</table>

					<br /> 
					
				{% else %}
					<div class="alert-message block-message error">
						<a class="close" href="#">&times;</a>
						<p><strong>No metadata information available !</strong> Stallion wasn't able to find info.</p>
						<ul>
						  <li>The package probably doesn't have the <strong>PKG-INFO</strong> metadata.</li>
						  <li>Stallion wasn't able to find the <strong>PKG-INFO</strong> metadata.</li>
						</ul>
					</div>
				{% endif %}

		</div>
	</div>
</div>

{% endblock %}